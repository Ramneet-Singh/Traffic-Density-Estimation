# Analysis for Subtask 3
We provide an explanation for each component of the `analysis` folder of the overall assignment package in one to one mapping with the structure of the folder.
- `graphs`: This directory contains all the plots that we have made for the report. The scripts that were used to make them are there in another directory which we'll get to later. This is further divided into subdirectories corresponding to each method, to have a cleaner organisation of the images and make it easier to look for a particular graph. The subdirectories along with the title of the corresponding method are given below.
    - `method1`: Sub Sampling
    - `method2`: Reduced Resolution
    - `method3`: Spatial Parallelisation
    - `method4`: Temporal Parallelisation
    - `method5`: Sparse vs Dense Optical Flow
- `outputFiles`: This directory contains the output files that each of our methods produced. This is again further divided into subdirectories corresponding to each method, and we have included the output files for each set of parameters and each method we tried. However for methods 3 and 4, since the output files remain the same irrespective of the parameter, we have included just one file to avoid unnecessary redundancy. A listing of the files along with their description is given below.
    - `method1`: In this we perform Sub Sampling of frames, taking as parameter the number of frames to be dropped (x). This directory contains the output files (csv files with timestamp, Queue Density pairs) corresponding to values of x from 1 to 6. All the files are named in a manner which conveys this, specifically they are named as `subSampledQueueDensityOutput_<param_value>.txt`. Their listing is as follows.
        - `subSampledQueueDensityOutput_1.txt`: x=1
        - `subSampledQueueDensityOutput_2.txt`: x=2
        - `subSampledQueueDensityOutput_3.txt`: x=3
        - `subSampledQueueDensityOutput_4.txt`: x=4
        - `subSampledQueueDensityOutput_5.txt`: x=5
        - `subSampledQueueDensityOutput_6.txt`: x=6
    - `method2`: In this method we reduce the resolution of frames while processing, taking as parameter the dimensions (width and height) of the resolution. This directory contains the output files (csv files with timestamp, Queue Density pairs) corresponding to dimensions {480x360, 858x480, 960x450, 1280x720, 1920x1080}. All the files are named in a manner which conveys this, specifically they are named as `reducedResQueueDensityOutput_<Dimension>.txt`. Their listing is as follows.
        - `reducedResQueueDensityOutput_480x360.txt`
        - `reducedResQueueDensityOutput_858x480.txt`
        - `reducedResQueueDensityOutput_960x450.txt`
        - `reducedResQueueDensityOutput_1280x720.txt`
        - `reducedResQueueDensityOutput_1920x1080.txt`
    - `method3`: In this method we split the work spatially across different threads by dividing a frame into parts and distributing them among threads. This method takes as parameter the number of threads (x) to be used while processing. This directory contains a single output file which remains the same irrespective of the parameter values. The file is named as `spatialParallelQueueOut--FINAL.txt`.
    - `method4`: In this method we split the work temporally across different threads by dividing the number of frames in the video into several parts and then distributing them among threads. This method takes as parameter the number of threads (x) to be used while processing. This directory contains a single output file which remains the same irrespective of the parameter values. The file is named as `temporalParallelQueueOut--FINAL.txt`.
    - `method5`: In this method we implement sparse optical flow, this method does not require any parameters. This directory contains two files, one is the output file of sparse optical flow function named `sparseOpticalFlowOut.txt` and another one is the baseline output (i.e. the output obtained from dense optical flow method) named `DenseOpticalFlowOut.txt`.
- `plottingScripts`: This directory contains gnuplot scripts for plotting different graphs and analysis files for methods 1,2,3 and 4. Whenever used, these scripts save the output graphs to this directory. There are five different plotting scripts present as follows:
    - `gnuScript_UtilityVsRun.gp`: Plots error (1/utility) versus runtime graphs, takes as argument the method number. Uses analysis files mentioned below to plot graphs. Saves the output graph (image) as `Method<method_number>_errorVsruntime.png`.
    - `gnuScript_cpuVsPara.gp`: Plots cpu utilization percentage versus parameter graphs, takes as argument the method number (only acceptable method numbers are: 3 and 4). Uses analysis files mentioned below to plot graphs. Saves the output graph (image) as `Method<method_number>_cpuVsPara.png`.
    - `gnuScript_errorvsPara.gp`: Plots error (1/utility) versus parameter graphs, takes as argument the method number. Uses analysis files mentioned below to plot graphs. Saves the output graph (image) as `Method<method_number>_errorVspara.png`.
    - `gnuScript_runVsPara.gp`: Plots runtime versus parameter graphs, takes as argument the method number. Uses analysis files mentioned below to plot graphs. Saves the output graph (image) as `Method<method_number>_runtimeVsPara.png`.
    - `gnuScript_opticalFlow.gp`: Plots sparse and dense optical flow density values in the same graph, takes as argument the file paths for sparse and dense optical flow density files respectively. Saves the output graph (image) as `SparseVsDense.png`.
    The following analysis files are present in this directory:
    - `method1_analysis.txt`: csv file containing error value, runtime (in seconds), number of frames (parameter) for sub sampling method.
    - `method2_analysis.txt`: csv file containing error value, runtime (in seconds), resolution (parameter) for method 2.
    - `method3_analysis.txt`: csv file containing error value ( = 0 in every case), runtime (in seconds), number of threads (parameter), cpu utilization percentage for spatial parallelization method.
    - `method4_analysis.txt`: csv file containing error value ( = 0 in every case), runtime (in seconds), number of threads (parameter), cpu utilization percentage for temporal parallelization method.
- `postProcessingScripts`: This directory, as the name suggests, contains post processing scripts. There are two such scripts present:
    - `Utility.cpp`: This script calculates the error value for a file by comparing it to the baseline output file. It takes as input two file addresses, first is the baseline output and second one is the file for which error is to be calculated. If these command line arguments are not correctly input, error message appears on the console.
    - `combineParallelQueueFiles.sh`: This script combines the output files of separate threads used in method 4 and combines them into one file named `temporalParallelQueueOut--FINAL.txt` which is stored in the same directory as that of other thread output files.
